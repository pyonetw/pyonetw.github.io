<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="utf-8">
    <title>第五週作業：基地臺位址選擇</title>
    <link rel="icon" href="/favicon.png">
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="/static/bootstrap.min.css">
    <link rel="stylesheet" href="/static/vice.css?250715">
</head>
<body>
    <div class="container">
        <h1 class="my-3">第五週作業：基地臺位址選擇</h1>

        <h2>題目來源</h2>
        <p class="text-danger">台大資管系孔令傑教授</p>

        <h2>題目敘述</h2>
        <p>有一家電信公司正在研擬一個新服務區域的無線基地臺設置計畫。在這個區域裡，一共有 \(n\) 個城鎮，編號為 \(1\)、\(2\) 直到 \(n\)，而城鎮 \(i\) 的人口數是 \(P_i\) 。公司將此區域以一公里為單位，畫出了一個二維座標系，並且以 \((x_i, y_i)\) 表示城鎮 \(i\) 的位置。換句話說，城鎮 \(i_1\) ​ 跟城鎮 \(i_2\)​ 之間的距離是</p>
        <p> \(\sqrt{(x_{i_1} - x_{i_2})^2 + (y_{i_1} - y_{i_2})^2}\)</p>

        <p>公里。如果一個基地臺跟一個城鎮的距離在 \(d\) 公里以內，我們就說這個基地臺可以「覆蓋」這個城鎮，也就是這個城鎮的人可以收得到強度足夠的從該基地臺發出的訊號。公司預計在此區域的 \(n\) 個城鎮中挑選 \(p\) 個城鎮設置基地臺，以求能覆蓋最多的人口數。</p>

        <p>你在這家電信公司工作，負責挑出這 \(p\) 個城鎮。為此，你設計了一個貪婪演算法。首先在所有城鎮中，你找出「如果蓋在這裡，將可以覆蓋最多人」的城鎮，然後設一個基地臺在那裡。現在你還能再設置 \(p−1\) 個基地臺，所以如法泡製，在所有還沒有基地臺的城鎮中，找出「如果蓋在這裡，將可以覆蓋最多還沒被覆蓋的人」的城鎮，設一個基地臺在那裡，然後繼續如此直到挑出 \(p\) 個城鎮去設置基地臺為止。如果在任一時刻遇到有兩個以上的城鎮可以被選，就選編號較小的那個。</p>

        <p>舉例來說，假設有八個城鎮的分佈如圖 1 所示，而他們的人口數 \(P_i\) ​ 由城鎮 1 至城鎮 8 分別是 10、15、10、20、20、25、15 和 10。假設覆蓋半徑 \(d=3\)，要如何用你的演算法找出 \(p=3\) 個城鎮來設置基地臺呢？首先，我們要對每個城鎮都計算「如果蓋在這裡，將可以覆蓋多少人」，例如若是蓋在城鎮 1，可以覆蓋城鎮 1 和 7 的共 25 人，蓋在城鎮 2 則可以覆蓋城鎮 2、3 和 8 的共 35 人，依此類推。我們很快可以發現蓋在城鎮 8 可以覆蓋共 55 人是最多的（城鎮 4 與 8 的距離恰好是 3，剛剛好可以被覆蓋），所以我們會將第一個基地臺設置在城鎮 8，如圖 2 所示。</p>

        <img src="/static/img/apcover1.png" width="400" alt="apcover1">
        <p>圖1：八個城鎮</p>

        <img src="/static/img/apcover2.png" width="400" alt="apcover2">
        <p>圖 2：第一次選取</p>

        <p>接著我們對城鎮 1 到 7 再計算「如果蓋在這裡，可以覆蓋多少還沒被覆蓋的人」。舉例來說，城鎮 2 跟 3 此時能再多覆蓋的人數是 0 了，因為這兩個城鎮都已經被城鎮 8 的基地臺覆蓋了；城鎮 4 跟 5 則都還能再多覆蓋城鎮 5 的 20 人。我們很快可以發現，城鎮 1、6 跟 7 都各可以再多覆蓋 25 人，因此我們選擇在城鎮 1（編號最小）設置一個基地臺，如圖 3 所示。請注意雖然城鎮 4 可以覆蓋 50 人，但我們不會選它，因為它能「再多覆蓋」的人只有 20 人。</p>

        <img src="/static/img/apcover3.png" width="400" alt="apcover3">
        <p>圖 3：第二次選取</p>

        <p>最後，我們再針對城鎮 2 到 7 計算「如果蓋在這裡，可以覆蓋多少還沒被覆蓋的人」。很快地我們會發現城鎮 6 的 25 人是最大的，因此將最後一個基地臺設置在城鎮 6，如圖 4 所示。總共我們覆蓋了 105 人（只有城鎮 5 的人沒有被覆蓋到）。</p>

        <img src="/static/img/apcover4.png" width="400" alt="apcover4">
        <p>圖 4：第三次選取</p>

        <p>在本題中，請幫你自己實做這個演算法。</p>

        <h2>輸入輸出格式</h2>

        <p>在每筆測試資料中，第一列存放三個整數 \(n\)、\(p\) 跟 \(d\)；在第二列至第 \(n+1\) 列中，第 \(i\) 列存放三個整數 \(x_{i - 1}\)​ 、\(y_{i - 1}\) 與 \(P_{i - 1}\) ，分別表示第 \(i-1\) 個城鎮的 \(x\) 座標、\(y\) 座標和人口數。在任意一列中，兩個數字之間都以一個空白隔開。已知 \(2 \leq n \leq 1000\)、\(2 \leq p \leq n\)、\(-100 \leq x_i \leq 100−100\)、\(-100 \leq y_i \leq 100\)、\(1 \leq P_i \leq 100\)。不會有兩個城鎮落在同一個地點。</p>

        <p>讀入這些資料之後，請根據題目指定的演算法，求出應該在哪 \(p\) 個城鎮設置基地臺，然後依照選擇的先後順序由先而後印出這些城鎮的編號，最後輸出被覆蓋的總人數。任兩個城鎮編號間，用一個空白隔開。</p>

        <p class="texti-datain">如果輸入是</p>
        <pre> <code>
8 3 3
3 -2 10
-1 1 15
-1 4 10
3 2 20
4 3 20
-3 -4 25
2 -3 15
0 2 10
        </code> </pre>
        <p>則輸出應該是</p>
        <pre> <code>
8 1 6 105
        </code> </pre>
    </div>
</body>
</html>